{"id":"Focm","dependencies":[{"name":"E:\\Github\\github-readme-blog-post-action\\package.json","includedInParent":true,"mtime":1648083866000},{"name":"./metaData.js","loc":{"line":3,"column":25,"index":97},"parent":"E:\\Github\\github-readme-blog-post-action\\index.js","resolved":"E:\\Github\\github-readme-blog-post-action\\metaData.js"},{"name":"./dataURLs/Roboto.txt","loc":{"line":10,"column":17,"index":358},"parent":"E:\\Github\\github-readme-blog-post-action\\index.js","resolved":"E:\\Github\\github-readme-blog-post-action\\dataURLs\\Roboto.txt"}],"generated":{"js":"\"use strict\";var t=d(require(\"@actions/core\")),e=d(require(\"@actions/github\")),n=d(require(\"./metaData.js\")),i=d(require(\"node-fetch\")),a=d(require(\"rss-parser\")),o=require(\"file-type\"),l=d(require(\"buffer-to-data-url\")),r=d(require(\"fs\")),s=d(require(\"./dataURLs/Roboto.txt\"));function d(t){return t&&t.__esModule?t:{default:t}}const f=l.default.default,u=new a.default({customFields:{items:[\"dc:creator\",\"creator\"]}}),g=5;async function c(){let i=await m(\"https://dev.to/feed/codewithsadee\");i.items.splice(g);let a=0,o=[];for(let f of i.items){var l;t.default.info(`Loading data for post: ${null!==(l=f.title)&&void 0!==l?l:f.link}`);let i=await(0,n.default)(f.link);(i=Object.assign({url:f.link,title:f.title,description:f.contentSnippet,image:null,date:new Date(f.isoDate)},i)).categories=f.categories||null,i.image=await h(i),o.push(i),r.default.existsSync(\"blog-post-list-output\")||r.default.mkdirSync(\"blog-post-list-output\");let s=p(i,.25*a++,!1),d=i.title.replace(/[^a-zA-Z0-9\\s]/g,\"\").replace(/\\s/g,\"_\")+\"-light.svg\",u=p(i,.25*a++,!0),g=i.title.replace(/[^a-zA-Z0-9\\s]/g,\"\").replace(/\\s/g,\"_\")+\"-dark.svg\";t.default.info(`Saving files: ${d}, ${g}`),r.default.writeFileSync(\"./blog-post-list-output/\"+d,s),r.default.writeFileSync(\"./blog-post-list-output/\"+g,u);let c=`https://raw.githubusercontent.com/${e.default.context.repo.owner}/${e.default.context.repo.repo}/master/blog-post-list-output/`;i.imageDark=c+g,i.imageLight=c+d,t.default.info(c)}let s=\"\";for(let t of o)s+=`[![${t.title}](${t.imageLight+\"#github-light-mode-only\"})](${t.link})\\n`,s+=`[![${t.title}](${t.imageDark+\"#github-dark-mode-only\"})](${t.link})\\n`;let d=r.default.readFileSync(\"./README.md\",\"utf8\");d=d.replace(/<!--\\s*blog-post-list-start\\s*-->[\\s\\S]*<!--\\s*blog-post-list-end\\s*-->/,s),t.default.info(s)}function p(t,e=0,n=!1){return`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 610 110\" width=\"600\" height=\"100\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <defs>\\n    <style>\\n      @font-face {\\n        font-family: 'Roboto';\\n        src: url('${s.default}') format('truetype');\\n      }\\n      .title {\\n        font-size: 1.5em;\\n        text-overflow: ellipsis;\\n        overflow: hidden;\\n        white-space: nowrap;\\n        margin-bottom: 5px;\\n      }\\n      .description {\\n        font-size: 0.75em;\\n        text-overflow: ellipsis;\\n        overflow: hidden;\\n        display: -webkit-box;\\n        -webkit-line-clamp: 3;\\n        -webkit-box-orient: vertical;\\n      }\\n      .date {\\n        font-size: 0.5em;\\n        opacity: 0.25;\\n        text-align: end;\\n        position: absolute;\\n        bottom: 0;\\n        right: 10px;\\n      }\\n      .text {\\n        text-align: start;\\n        padding: 5px;\\n        height: calc(100% - 10px);\\n        margin-left: 100px;\\n        font-family: 'Roboto';\\n        color: ${n?\"#fff\":\"#000\"};\\n      }\\n      .image {\\n        height: 100px;\\n        width: 100px;\\n        background-image: url(\"${t.image}\");\\n        background-size: cover;\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        border-radius: 10px;\\n      }\\n      .main {\\n        transform: translate(610px, 0px);\\n        animation: slideIn 1s ease-out forwards;\\n        animation-delay: ${e}s;\\n      }\\n      @keyframes slideIn {\\n        to {\\n          transform: translate(0px, 0px);\\n        }\\n      }\\n    </style>\\n    <clipPath id=\"clip\">\\n      <rect width=\"300\" height=\"1.5em\" />\\n    </clipPath>\\n  </defs>\\n  <g class=\"main\">\\n    <rect class=\"content\" width=\"600\" height=\"100\" fill=\"transparent\" stroke=\"rgba(0, 0, 0, 0.5)\" x=\"5\" y=\"5\" rx=\"10\" />\\n    <foreignObject width=\"600\" height=\"100\" x=\"5\" y=\"5\">\\n      <div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"border-radius: 5px; overflow: hidden; height: 100%;\">\\n        <div class=\"image\" />\\n        <div class=\"text\">\\n          <div class=\"title\">${t.title}</div>\\n          <div class=\"description\">${t.description}</div>\\n          <div class=\"date\">${t.date.toLocaleDateString()}</div>\\n        </div>\\n      </div>\\n    </foreignObject>\\n  </g>\\n</svg>`}async function m(e){return t.default.info(`Loading feed data for: ${e}`),await u.parseURL(e)}async function h(e){if(e.image){t.default.info(\"Loading thumbnail...\");let n=await(0,i.default)(e.image),a=await n.arrayBuffer();t.default.info(\"Converting thumbnail to data url...\");let l=Buffer.from(a),r=(await(0,o.fileTypeFromBuffer)(l)).mime;return await f(r,l)}return t.default.warning(\"No thumbnail found!\"),\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\"}c();"},"sourceMaps":null,"error":null,"hash":"9f60b625345b271f428f703ff1b6fc2c","cacheData":{"env":{}}}